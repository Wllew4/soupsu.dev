{"version":3,"file":"module.js","sources":["../src/request/browser.js","../src/main.js"],"sourcesContent":["export default url => {\n  return fetch(url)\n    .then(res => res.json().then(json => ({\n      headers: res.headers,\n      status: res.status,\n      json\n    })))\n    .then(({ headers, status, json }) => {\n      if (status >= 400) {\n        return new Error(`Bad Request: ${status}`);\n      }\n      const numRecords = headers.get('num-records');\n      if (numRecords !== null) {\n        return {\n          totalRecords: parseInt(numRecords),\n          records: json\n        };\n      }\n      return json;\n    })\n    .catch(err => err);\n};","import get from './request/get';\n\nconst BASE_URL = 'https://www.extra-life.org/api';\n\nconst buildQueryString = (limit, page) => {\n  const parsedLimit = parseInt(limit);\n  const parsedPage = parseInt(page);\n  limit = !!parsedLimit ? parsedLimit : 100;\n  page = (!!parsedPage ? parsedPage : 1) || 1;\n  const offset = page === 1 ? 1 : limit * (page - 1);\n  return `?limit=${limit}&offset=${offset}`;\n};\n\n// Participants\n// https://github.com/DonorDrive/PublicAPI/blob/master/docs/1.0/resources/participants.md\nexport const getParticipants = async (limit, page) => await get(`${BASE_URL}/participants${buildQueryString(limit, page)}`);\nexport const getParticipant = async participantId => await get(`${BASE_URL}/participants/${participantId}`);\nexport const getParticipantActivity = async participantId => await get(`${BASE_URL}/participants/${participantId}/activity`);\nexport const getParticipantBadges = async participantId => await get(`${BASE_URL}/participants/${participantId}/badges`);\nexport const getParticipantDonations = async (participantId, limit, page) => await get(`${BASE_URL}/participants/${participantId}/donations${buildQueryString(limit, page)}`);\nexport const getParticipantDonors = async (participantId, limit, page) => await get(`${BASE_URL}/participants/${participantId}/donors${buildQueryString(limit, page)}`);\n\n// Teams\n// https://github.com/DonorDrive/PublicAPI/blob/master/docs/1.0/resources/teams.md\nexport const getTeams = async (limit, page) => await get(`${BASE_URL}/teams${buildQueryString(limit, page)}`);\nexport const getTeam = async teamId => await get(`${BASE_URL}/teams/${teamId}`);\nexport const getTeamActivity = async teamId => await get(`${BASE_URL}/teams/${teamId}/activity`);\nexport const getTeamBadges = async teamId => await get(`${BASE_URL}/teams/${teamId}/badges`);\nexport const getTeamDonations = async (teamId, limit, page) => await get(`${BASE_URL}/teams/${teamId}/donations${buildQueryString(limit, page)}`);\nexport const getTeamDonors = async (teamId, limit, page) => await get(`${BASE_URL}/teams/${teamId}/donors${buildQueryString(limit, page)}`);\nexport const getTeamParticipants = async (teamId, limit, page) => await get(`${BASE_URL}/teams/${teamId}/participants${buildQueryString(limit, page)}`);"],"names":["url","fetch","then","res","json","headers","status","Error","numRecords","get","totalRecords","parseInt","records","catch","err","BASE_URL","buildQueryString","limit","page","parsedLimit","parsedPage","getParticipants","async","getParticipant","participantId","getParticipantActivity","getParticipantBadges","getParticipantDonations","getParticipantDonors","getTeams","getTeam","teamId","getTeamActivity","getTeamBadges","getTeamDonations","getTeamDonors","getTeamParticipants"],"mappings":"AAAA,MAAeA,GACNC,MAAMD,GACVE,KAAKC,GAAOA,EAAIC,OAAOF,KAAKE,KAC3BC,QAASF,EAAIE,QACbC,OAAQH,EAAIG,OACZF,KAAAA,MAEDF,KAAK,EAAGG,QAAAA,EAASC,OAAAA,EAAQF,KAAAA,MACxB,GAAIE,GAAU,IACZ,OAAO,IAAIC,sBAAsBD,KAEnC,MAAME,EAAaH,EAAQI,IAAI,eAC/B,OAAmB,OAAfD,EACK,CACLE,aAAcC,SAASH,GACvBI,QAASR,GAGNA,IAERS,MAAMC,GAAOA,GClBlB,MAAMC,EAAW,iCAEXC,EAAmB,CAACC,EAAOC,KAC/B,MAAMC,EAAcR,SAASM,GACvBG,EAAaT,SAASO,GAI5B,gBAHAD,EAAUE,GAA4B,cAEd,KADxBD,EAAUE,GAA0B,GAAM,GACd,EAAIH,GAASC,EAAO,MAMrCG,EAAkBC,MAAOL,EAAOC,UAAeT,KAAOM,iBAAwBC,EAAiBC,EAAOC,MACtGK,EAAiBD,MAAAA,SAA6Bb,KAAOM,kBAAyBS,KAC9EC,EAAyBH,MAAAA,SAA6Bb,KAAOM,kBAAyBS,cACtFE,EAAuBJ,MAAAA,SAA6Bb,KAAOM,kBAAyBS,YACpFG,EAA0BL,MAAOE,EAAeP,EAAOC,UAAeT,KAAOM,kBAAyBS,cAA0BR,EAAiBC,EAAOC,MACxJU,EAAuBN,MAAOE,EAAeP,EAAOC,UAAeT,KAAOM,kBAAyBS,WAAuBR,EAAiBC,EAAOC,MAIlJW,EAAWP,MAAOL,EAAOC,UAAeT,KAAOM,UAAiBC,EAAiBC,EAAOC,MACxFY,EAAUR,MAAAA,SAAsBb,KAAOM,WAAkBgB,KACzDC,EAAkBV,MAAAA,SAAsBb,KAAOM,WAAkBgB,cACjEE,EAAgBX,MAAAA,SAAsBb,KAAOM,WAAkBgB,YAC/DG,EAAmBZ,MAAOS,EAAQd,EAAOC,UAAeT,KAAOM,WAAkBgB,cAAmBf,EAAiBC,EAAOC,MAC5HiB,EAAgBb,MAAOS,EAAQd,EAAOC,UAAeT,KAAOM,WAAkBgB,WAAgBf,EAAiBC,EAAOC,MACtHkB,EAAsBd,MAAOS,EAAQd,EAAOC,UAAeT,KAAOM,WAAkBgB,iBAAsBf,EAAiBC,EAAOC"}