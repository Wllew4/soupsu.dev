{"version":3,"file":"extra-life.js","sources":["../src/request/browser.js","../src/main.js"],"sourcesContent":["export default url => {\n  return fetch(url)\n    .then(res => res.json().then(json => ({\n      headers: res.headers,\n      status: res.status,\n      json\n    })))\n    .then(({ headers, status, json }) => {\n      if (status >= 400) {\n        return new Error(`Bad Request: ${status}`);\n      }\n      const numRecords = headers.get('num-records');\n      if (numRecords !== null) {\n        return {\n          totalRecords: parseInt(numRecords),\n          records: json\n        };\n      }\n      return json;\n    })\n    .catch(err => err);\n};","import get from './request/get';\n\nconst BASE_URL = 'https://www.extra-life.org/api';\n\nconst buildQueryString = (limit, page) => {\n  const parsedLimit = parseInt(limit);\n  const parsedPage = parseInt(page);\n  limit = !!parsedLimit ? parsedLimit : 100;\n  page = (!!parsedPage ? parsedPage : 1) || 1;\n  const offset = page === 1 ? 1 : limit * (page - 1);\n  return `?limit=${limit}&offset=${offset}`;\n};\n\n// Participants\n// https://github.com/DonorDrive/PublicAPI/blob/master/docs/1.0/resources/participants.md\nexport const getParticipants = async (limit, page) => await get(`${BASE_URL}/participants${buildQueryString(limit, page)}`);\nexport const getParticipant = async participantId => await get(`${BASE_URL}/participants/${participantId}`);\nexport const getParticipantActivity = async participantId => await get(`${BASE_URL}/participants/${participantId}/activity`);\nexport const getParticipantBadges = async participantId => await get(`${BASE_URL}/participants/${participantId}/badges`);\nexport const getParticipantDonations = async (participantId, limit, page) => await get(`${BASE_URL}/participants/${participantId}/donations${buildQueryString(limit, page)}`);\nexport const getParticipantDonors = async (participantId, limit, page) => await get(`${BASE_URL}/participants/${participantId}/donors${buildQueryString(limit, page)}`);\n\n// Teams\n// https://github.com/DonorDrive/PublicAPI/blob/master/docs/1.0/resources/teams.md\nexport const getTeams = async (limit, page) => await get(`${BASE_URL}/teams${buildQueryString(limit, page)}`);\nexport const getTeam = async teamId => await get(`${BASE_URL}/teams/${teamId}`);\nexport const getTeamActivity = async teamId => await get(`${BASE_URL}/teams/${teamId}/activity`);\nexport const getTeamBadges = async teamId => await get(`${BASE_URL}/teams/${teamId}/badges`);\nexport const getTeamDonations = async (teamId, limit, page) => await get(`${BASE_URL}/teams/${teamId}/donations${buildQueryString(limit, page)}`);\nexport const getTeamDonors = async (teamId, limit, page) => await get(`${BASE_URL}/teams/${teamId}/donors${buildQueryString(limit, page)}`);\nexport const getTeamParticipants = async (teamId, limit, page) => await get(`${BASE_URL}/teams/${teamId}/participants${buildQueryString(limit, page)}`);"],"names":["url","fetch","then","res","json","headers","status","Error","numRecords","get","totalRecords","parseInt","records","catch","err","BASE_URL","buildQueryString","limit","page","parsedLimit","parsedPage","async","participantId","teamId"],"mappings":"6CAAeA,GACNC,MAAMD,GACVE,KAAKC,GAAOA,EAAIC,OAAOF,KAAKE,KAC3BC,QAASF,EAAIE,QACbC,OAAQH,EAAIG,OACZF,KAAAA,MAEDF,KAAK,EAAGG,QAAAA,EAASC,OAAAA,EAAQF,KAAAA,MACxB,GAAIE,GAAU,IACZ,OAAO,IAAIC,sBAAsBD,KAEnC,MAAME,EAAaH,EAAQI,IAAI,eAC/B,OAAmB,OAAfD,EACK,CACLE,aAAcC,SAASH,GACvBI,QAASR,GAGNA,IAERS,MAAMC,GAAOA,GClBlB,MAAMC,EAAW,iCAEXC,EAAmB,CAACC,EAAOC,KAC/B,MAAMC,EAAcR,SAASM,GACvBG,EAAaT,SAASO,GAI5B,gBAHAD,EAAUE,GAA4B,cAEd,KADxBD,EAAUE,GAA0B,GAAM,GACd,EAAIH,GAASC,EAAO,8BAOpBG,MAAAA,SAA6BZ,KAAOM,kBAAyBO,8BACrDD,MAAAA,SAA6BZ,KAAOM,kBAAyBO,qCAC/DD,MAAAA,SAA6BZ,KAAOM,kBAAyBO,sCAC1DD,MAAOC,EAAeL,EAAOC,UAAeT,KAAOM,kBAAyBO,cAA0BN,EAAiBC,EAAOC,6BACjIG,MAAOC,EAAeL,EAAOC,UAAeT,KAAOM,kBAAyBO,WAAuBN,EAAiBC,EAAOC,wBALhIG,MAAOJ,EAAOC,UAAeT,KAAOM,iBAAwBC,EAAiBC,EAAOC,gBAU5FG,MAAAA,SAAsBZ,KAAOM,WAAkBQ,uBACvCF,MAAAA,SAAsBZ,KAAOM,WAAkBQ,8BACjDF,MAAAA,SAAsBZ,KAAOM,WAAkBQ,+BAC5CF,MAAOE,EAAQN,EAAOC,UAAeT,KAAOM,WAAkBQ,cAAmBP,EAAiBC,EAAOC,sBAC5GG,MAAOE,EAAQN,EAAOC,UAAeT,KAAOM,WAAkBQ,WAAgBP,EAAiBC,EAAOC,4BAChGG,MAAOE,EAAQN,EAAOC,UAAeT,KAAOM,WAAkBQ,iBAAsBP,EAAiBC,EAAOC,iBANvHG,MAAOJ,EAAOC,UAAeT,KAAOM,UAAiBC,EAAiBC,EAAOC"}